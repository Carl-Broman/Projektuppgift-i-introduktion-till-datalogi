{"ast":null,"code":"import _regeneratorRuntime from\"/root/Projektuppgift-i-introduktion-till-datalogi/forecaster/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/root/Projektuppgift-i-introduktion-till-datalogi/forecaster/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _require=require(\"openai\"),Configuration=_require.Configuration,OpenAIApi=_require.OpenAIApi;var configuration=new Configuration({apiKey:process.env.REACT_APP_OPENAI_API_KEY});var openai=new OpenAIApi(configuration);/**\n * Function taht uses json data for specific time and location to\n * create a picture using given weather conditions\n * @param {*} weatherResponse \n */export function dallePicture(_x,_x2){return _dallePicture.apply(this,arguments);}function _dallePicture(){_dallePicture=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(weatherResponse,location){var _openai,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(process.env.REACT_APP_OPENAI_API_KEY);_context.prev=1;_openai=new OpenAIApi(configuration);_context.next=5;return _openai.createImage({prompt:\"Realistic view of \".concat(location,\" and the weather is \").concat(weatherResponse.weather.description),n:1,size:\"256x256\"});case 5:response=_context.sent;return _context.abrupt(\"return\",response.data[0].url);case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return _dallePicture.apply(this,arguments);}","map":{"version":3,"names":["_require","require","Configuration","OpenAIApi","configuration","apiKey","process","env","REACT_APP_OPENAI_API_KEY","openai","dallePicture","_x","_x2","_dallePicture","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","weatherResponse","location","_openai","response","wrap","_callee$","_context","prev","next","console","log","createImage","prompt","concat","weather","description","n","size","sent","abrupt","data","url","t0","error","stop"],"sources":["/root/Projektuppgift-i-introduktion-till-datalogi/forecaster/src/dalle.js"],"sourcesContent":["const { Configuration, OpenAIApi } = require(\"openai\");\nconst configuration = new Configuration({\n    apiKey: process.env.REACT_APP_OPENAI_API_KEY,\n});\nconst openai = new OpenAIApi(configuration);\n\n/**\n * Function taht uses json data for specific time and location to\n * create a picture using given weather conditions\n * @param {*} weatherResponse \n */\nexport async function dallePicture(weatherResponse, location) {\n    console.log(process.env.REACT_APP_OPENAI_API_KEY);\n    try {\n        const openai = new OpenAIApi(configuration);\n        const response = await openai.createImage({\n            prompt: `Realistic view of ${location} and the weather is ${weatherResponse.weather.description}`,\n            n: 1,\n            size: \"256x256\",\n        });\n        return response.data[0].url;\n    }\n    catch(err){\n        console.error(err)\n    }\n}"],"mappings":"oTAAA,IAAAA,QAAA,CAAqCC,OAAO,CAAC,QAAQ,CAAC,CAA9CC,aAAa,CAAAF,QAAA,CAAbE,aAAa,CAAEC,SAAS,CAAAH,QAAA,CAATG,SAAS,CAChC,GAAM,CAAAC,aAAa,CAAG,GAAI,CAAAF,aAAa,CAAC,CACpCG,MAAM,CAAEC,OAAO,CAACC,GAAG,CAACC,wBACxB,CAAC,CAAC,CACF,GAAM,CAAAC,MAAM,CAAG,GAAI,CAAAN,SAAS,CAACC,aAAa,CAAC,CAE3C;AACA;AACA;AACA;AACA,GACA,eAAsB,CAAAM,YAAYA,CAAAC,EAAA,CAAAC,GAAA,SAAAC,aAAA,CAAAC,KAAA,MAAAC,SAAA,GAcjC,SAAAF,cAAA,EAAAA,aAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAdM,SAAAC,QAA4BC,eAAe,CAAEC,QAAQ,MAAAC,OAAA,CAAAC,QAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACxDC,OAAO,CAACC,GAAG,CAACxB,OAAO,CAACC,GAAG,CAACC,wBAAwB,CAAC,CAACkB,QAAA,CAAAC,IAAA,GAExClB,OAAM,CAAG,GAAI,CAAAN,SAAS,CAACC,aAAa,CAAC,CAAAsB,QAAA,CAAAE,IAAA,SACpB,CAAAnB,OAAM,CAACsB,WAAW,CAAC,CACtCC,MAAM,sBAAAC,MAAA,CAAuBZ,QAAQ,yBAAAY,MAAA,CAAuBb,eAAe,CAACc,OAAO,CAACC,WAAW,CAAE,CACjGC,CAAC,CAAE,CAAC,CACJC,IAAI,CAAE,SACV,CAAC,CAAC,QAJId,QAAQ,CAAAG,QAAA,CAAAY,IAAA,QAAAZ,QAAA,CAAAa,MAAA,UAKPhB,QAAQ,CAACiB,IAAI,CAAC,CAAC,CAAC,CAACC,GAAG,SAAAf,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAgB,EAAA,CAAAhB,QAAA,aAG3BG,OAAO,CAACc,KAAK,CAAAjB,QAAA,CAAAgB,EAAI,CAAC,0BAAAhB,QAAA,CAAAkB,IAAA,MAAAzB,OAAA,gBAEzB,UAAAN,aAAA,CAAAC,KAAA,MAAAC,SAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}