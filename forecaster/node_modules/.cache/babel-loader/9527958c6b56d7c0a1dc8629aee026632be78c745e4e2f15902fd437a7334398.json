{"ast":null,"code":"import _regeneratorRuntime from\"/root/Projektuppgift-i-introduktion-till-datalogi/forecaster/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/root/Projektuppgift-i-introduktion-till-datalogi/forecaster/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _require=require(\"openai\"),Configuration=_require.Configuration,OpenAIApi=_require.OpenAIApi;var configuration=new Configuration({apiKey:process.env.REACT_APP_OPENAI_API_KEY});var openai=new OpenAIApi(configuration);export function chatMessage(_x,_x2){return _chatMessage.apply(this,arguments);}function _chatMessage(){_chatMessage=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(weather,location){var weatherQuestion,completion;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:weatherQuestion=\"Answer as if you are aware of the weather in \".concat(location,\" as it is \").concat(weather.weather.description,\" and \").concat(weather.main.temp-272.15,\" degrees celsius. Write the information as if the user does not know and that you knew it before and recommend things to do there\");_context.next=3;return openai.createChatCompletion({model:\"gpt-3.5-turbo\",messages:[{role:\"user\",content:\"Answer as if you are aware of the weather in ${Stockholm} as it is 20 degrees and partly cloudy. Write the information as if the user does not know and that you knew it before and recommend things to do there\"}]});case 3:completion=_context.sent;return _context.abrupt(\"return\",completion.data.choices[0].message.content);case 5:case\"end\":return _context.stop();}},_callee);}));return _chatMessage.apply(this,arguments);};","map":{"version":3,"names":["_require","require","Configuration","OpenAIApi","configuration","apiKey","process","env","REACT_APP_OPENAI_API_KEY","openai","chatMessage","_x","_x2","_chatMessage","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","weather","location","weatherQuestion","completion","wrap","_callee$","_context","prev","next","concat","description","main","temp","createChatCompletion","model","messages","role","content","sent","abrupt","data","choices","message","stop"],"sources":["/root/Projektuppgift-i-introduktion-till-datalogi/forecaster/src/chatgpt.js"],"sourcesContent":["const { Configuration, OpenAIApi } = require(\"openai\");\nconst configuration = new Configuration({\n    apiKey: process.env.REACT_APP_OPENAI_API_KEY,\n});\nconst openai = new OpenAIApi(configuration);\n\n\nexport async function chatMessage(weather, location){\n    const weatherQuestion = `Answer as if you are aware of the weather in ${location} as it is ${weather.weather.description} and ${weather.main.temp-272.15} degrees celsius. Write the information as if the user does not know and that you knew it before and recommend things to do there`\n    const completion = await openai.createChatCompletion({\n        model: \"gpt-3.5-turbo\",\n        messages: [{role: \"user\", content: \"Answer as if you are aware of the weather in ${Stockholm} as it is 20 degrees and partly cloudy. Write the information as if the user does not know and that you knew it before and recommend things to do there\"}],\n      });\n\n      return(completion.data.choices[0].message.content);\n};"],"mappings":"oTAAA,IAAAA,QAAA,CAAqCC,OAAO,CAAC,QAAQ,CAAC,CAA9CC,aAAa,CAAAF,QAAA,CAAbE,aAAa,CAAEC,SAAS,CAAAH,QAAA,CAATG,SAAS,CAChC,GAAM,CAAAC,aAAa,CAAG,GAAI,CAAAF,aAAa,CAAC,CACpCG,MAAM,CAAEC,OAAO,CAACC,GAAG,CAACC,wBACxB,CAAC,CAAC,CACF,GAAM,CAAAC,MAAM,CAAG,GAAI,CAAAN,SAAS,CAACC,aAAa,CAAC,CAG3C,eAAsB,CAAAM,WAAWA,CAAAC,EAAA,CAAAC,GAAA,SAAAC,YAAA,CAAAC,KAAA,MAAAC,SAAA,GAQhC,SAAAF,aAAA,EAAAA,YAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CARM,SAAAC,QAA2BC,OAAO,CAAEC,QAAQ,MAAAC,eAAA,CAAAC,UAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACzCN,eAAe,iDAAAO,MAAA,CAAmDR,QAAQ,eAAAQ,MAAA,CAAaT,OAAO,CAACA,OAAO,CAACU,WAAW,UAAAD,MAAA,CAAQT,OAAO,CAACW,IAAI,CAACC,IAAI,CAAC,MAAM,sIAAAN,QAAA,CAAAE,IAAA,SAC/H,CAAAnB,MAAM,CAACwB,oBAAoB,CAAC,CACjDC,KAAK,CAAE,eAAe,CACtBC,QAAQ,CAAE,CAAC,CAACC,IAAI,CAAE,MAAM,CAAEC,OAAO,CAAE,kNAAkN,CAAC,CACxP,CAAC,CAAC,QAHEd,UAAU,CAAAG,QAAA,CAAAY,IAAA,QAAAZ,QAAA,CAAAa,MAAA,UAKPhB,UAAU,CAACiB,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAACL,OAAO,0BAAAX,QAAA,CAAAiB,IAAA,MAAAxB,OAAA,GACtD,UAAAN,YAAA,CAAAC,KAAA,MAAAC,SAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}